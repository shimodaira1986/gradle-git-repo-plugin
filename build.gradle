apply plugin: "groovy"
apply plugin: 'maven'

sourceCompatibility = 1.7
group = "com.github.shimo.gradle"
version = "1.0.0"

repositories {
	mavenCentral()
	jcenter()
}

dependencies {
	compile gradleApi()
	compile localGroovy()
}

task javadocJar(type: Jar) {
	classifier = "javadoc"
	from javadoc
}

task sourcesJar(type: Jar) {
	classifier = "sources"
	from sourceSets.main.allSource
}

artifacts {
	archives javadocJar, sourcesJar
}

task wrapper(type: Wrapper) {
	gradleVersion = "4.5.1"
}


def repo = new File(rootDir, "releases")

uploadArchives {
	repositories {
		mavenDeployer {
			repository url: "file://${repo.absolutePath}"
			pom.version = "${version}"
			pom.groupId = "${project.group}"
			pom.artifactId = "gradle-git-repo-plugin"
		}
	}
}